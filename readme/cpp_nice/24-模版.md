

# 模板 Template

模板是 C++ 中实现泛型编程的一种具体机制。它允许程序员定义函数或类时不指定具体的类型（编写时类型无关），而是**使用占位符（称为模板参数），表示可以是任何类型**，在编译时由编译器根据**实际使用情况**生成具体代码。模板是 C++ 语言中的一个语法工具。

模板的例子：

~~~cpp
template <typename T>
T add(T a, T b) {
    return a + b;
}

int main() {
    int x = add(1, 2);         // 使用 int
    double y = add(3.14, 2.86); // 使用 double
    return 0;
}
~~~

编译时发生什么？

  - 模板定义：程序员写的 `add` 是类型无关的，`T` 是一个占位符。
  - 模板实例化：编译器看到 `add(1, 2)` 和 `add(3.14, 2.86)`，分别生成两份代码：
      - `int add(int a, int b) { return a + b; }`
      - `double add(double a, double b) { return a + b; }`
  - 运行时执行：程序运行时，直接调用这些类型特定的函数，没有任何运行时的类型推导或动态分派。

所以 模板是 编写时类型无关；编译时类型特化；运行时类型相关。

# 编译时类型检查

# 模板编程中两种重要的形式
## 1. 函数模板

编写与类型无关的函数，编译时根据代码生成类型相关的函数。上述 add 函数就是。

## 2. 类模板

类模板用于定义可以适用于多种数据类型的类。
